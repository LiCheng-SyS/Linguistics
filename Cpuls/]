#include <iostream>
#include <cmath>
#include <vector>
#include <stack>
#include <queue>
#include <map>
#include <set>
#include <algorithm>

using namespace std;

class Point{
public:
    Point(int x , int y):x(x),y(y){}
    void output(){
        cout << "inner " << " x" << x  << " y" << y <<endl;  
        return ;
    }
    Point  operator+( const int x ){
         //这是的临时对象,这就不返回引用
        return    Point (this->x + x, this->y+ x);  
    }

    friend void output(Point &);
    friend ostream &operator<<(ostream &,const Point &);
    friend  Point operator+(const Point &,const Point &);
private:
    int x, y;
};
void output(Point &a){
    cout << "outer : " <<  a.x << ":" << a.y << endl; 
}
//返回值           //二元运算符<<   p 
ostream &operator<<(ostream &out,const Point  &p){
    // 和其余运算符一致，返回值的作用是给后面可能出现的值用的,因为一定返回的是ostream的引用
    // 也就是为了实现连续输出 
    out << " point (" << p.x <<  "," << p.y << ")";    
    return out;
}
//外部重载 
Point operator+(const Point &a ,const  Point &b){
    return Point (a.x +b.x , a.y + b.y );
}
int main(){
    Point p(3, 4), q(5,6);
    p.output();
    output(p);
    //友元:类外的函数是无法访问类中私有成员属性,友元可以
    //  第二个值试图bind 左值引用形式,他是无法bind(p + q) 是临时匿名对象         
    // 为什么加上const参数, ,是因为想兼容所有的参数类型
    cout << (p + (q + p )) << endl;

    cout <<  (q  +  q)  << endl;
    cout <<  (p + 5) << endl; 
    return 0;
}
